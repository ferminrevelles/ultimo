<div *ngIf="user">
  <section style="clear:both;padding-bottom:2em;"></section>
  
  <div fxLayoutAlign="space-around stretch" fxLayoutWrap >
    <mat-card>
    <mat-card-header >
      <mat-card-title class="title_card">Perfil</mat-card-title>
    </mat-card-header>
    <!--<img mat-card-image src="{{ user.avatar_hash }}" alt="Photo of a Shiba Inu">-->
    <div class="contenedor">
      <div id="foto-perfil" class="text-center pr-5" >
        <div>
          <img
            class="img-fluid img-profile rounded-circle mx-auto mb-2"
            src="{{ user.avatar_hash }}"
          />
          <div >
            {{ user.name + ' ' + user.surname }}
          </div>
        </div>
      </div>
      <section id="datosPersonales" >
        <table>
          <tbody>
            <tr>
              <th>Email</th>
              <td>{{ user.email }}</td>
            </tr>
            <tr>
              <th>Fecha de nacimiento</th>
              <td>{{ user.birthdate |date:'d/M/yyyy' }}</td>
            </tr>
            <tr>
              <th>Tel&eacute;fono</th>
              <td>{{ user.phone }}</td>
            </tr>
            <tr>
              <th>NIF/NIE</th>
              <td>{{ user.documentNumber }}</td>
            </tr>
            <tr>
              <th>Permisos de conducir</th>
              <td>{{ user.license }}</td>
            </tr>
            <tr>
              <th>Direccion</th>
              <td>{{ user.address | json }}</td>
            </tr>
          </tbody>
        </table>

        <div id="otra_info" >
          <form>
            <div class="float-left">
              <label for="about-me">Acerca de mi...</label><br />
              <textarea readonly="true" id="about-me" name="about-me">{{
                user.aboutMe
              }}</textarea>
            </div>
            <div>
              <label for="other">Otras competencias</label> <br />
      
              <textarea readonly="true" id="other" name="other">{{
                user.otherCompetences
              }}</textarea>
            </div>
          </form>
        </div>  
      </section>
     
    </div>      
    <mat-card-content>
      
    </mat-card-content>
    <mat-card-actions class="cont">
      <button mat-raised-button color="primary" class="button"><a [routerLink]="['/admin/profile/profile-student/account']">Modificar</a></button>
      </mat-card-actions>
    </mat-card>
  </div>
  <!--
  <div class="float-left" id="foto-perfil">
    <div>
      <img
        class="img-fluid img-profile rounded-circle mx-auto mb-2"
        src="{{ user.avatar_hash }}"
      />
    </div>
    <div class="text-center pr-5">
      {{ user.name + ' ' + user.surname }}
    </div>
  </div>

  <section id="datosPersonales" class="float-left">
    <table>
      <tbody>
        <tr>
          <th>Email</th>
          <td>{{ user.email }}</td>
        </tr>
        <tr>
          <th>Fecha de nacimiento</th>
          <td>{{ user.birthdate }}</td>
        </tr>
        <tr>
          <th>Tel&eacute;fono</th>
          <td>{{ user.phone }}</td>
        </tr>
        <tr>
          <th>NIF/NIE</th>
          <td>{{ user.documentNumber }}</td>
        </tr>
        <tr>
          <th>Permisos de conducir</th>
          <td>{{ user.license }}</td>
        </tr>
        <tr>
          <th>Direccion</th>
          <td>{{ user.address | json }}</td>
        </tr>
      </tbody>
    </table>
    <a [routerLink]="['/admin/profile/profile-student/account']">Modificar</a>
  </section>
  <div id="otra_info" class="float-left">
    <form>
      <div class="float-left">
        <label for="about-me">Acerca de mi...</label><br />
        <textarea readonly="true" id="about-me" name="about-me">{{
          user.aboutMe
        }}</textarea>
      </div>
      <div class="float-left">
        <label for="other">Otras competencias</label> <br />

        <textarea readonly="true" id="other" name="other">{{
          user.otherCompetences
        }}</textarea>
      </div>
    </form>
  </div>
-->
  <section style="clear:both;padding-bottom:2em;"></section>

 

  <div fxLayoutAlign="space-around stretch" fxLayoutWrap >
    <mat-card>
    <mat-card-header>
      <mat-card-title class="title_card">Formación Académica</mat-card-title>
    </mat-card-header>
    
    <mat-card-content>
      <table mat-table [dataSource]="user.studies" class="mat-elevation-z8">

        <ng-container matColumnDef="tipo" >
          <th mat-header-cell *matHeaderCellDef class="columnSeparation"> Tipo </th>
          <td mat-cell *matCellDef="let element" class="columnSeparation"> {{element.level.name}} </td>
        </ng-container>
  
        <ng-container matColumnDef="nivel" >
          <th mat-header-cell *matHeaderCellDef class="columnSeparation"> Nivel </th>
          <td mat-cell *matCellDef="let element" class="columnSeparation">  {{element.grade?.name}} </td>
        </ng-container>
  
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Título </th>
          <td mat-cell *matCellDef="let element"  class="columnSeparation"> {{element.title.name || element.title}} </td>
        </ng-container>
  
        <ng-container matColumnDef="institution">
          <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Centro </th>
          <td mat-cell *matCellDef="let element"  class="columnSeparation"> {{element.institution.name || element.institution}} </td>
        </ng-container>
  
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef class="columnSeparation" > Fecha </th>
          <td mat-cell *matCellDef="let element" class="columnSeparation" > {{element.date | date:'d/M/yyyy'}} </td>
        </ng-container>
  
        <ng-container matColumnDef="certificate">
          <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Certificado </th>
          <td mat-cell *matCellDef="let element" class="columnSeparation" > {{element.certificate ? 'Sí' : 'No' }} </td>
        </ng-container>
       
        <ng-container matColumnDef="bilingue">
          <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Bilingüe </th>
          <td mat-cell *matCellDef="let element"  class="columnSeparation"> {{element.bilingue ? 'Sí' : 'No' }} </td>
        </ng-container>
  
        <ng-container matColumnDef="dual">
          <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Dual </th>
          <td mat-cell *matCellDef="let element"  class="columnSeparation"> {{element.dual ? 'Sí' : 'No' }} </td>
        </ng-container>
  
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Acciones </th>
          <td mat-cell *matCellDef="let element" class="columnSeparation"> 
            <button mat-mini-fab color="accent" class="buttonseparacion"><a [routerLink]="['/admin/profile/profile-student/study', element.uid]"><mat-icon> create</mat-icon></a></button>
            <button mat-mini-fab color="warn" class="buttonseparacion"><a style="cursor:pointer" (click)="deleteStudy(element.uid)"><mat-icon> delete_sweep</mat-icon></a></button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsFormation"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsFormation;"></tr>
      </table>
      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </mat-card-content>
    <mat-card-actions class="cont">
      <button mat-raised-button color="primary" class="button"><a [routerLink]="['/admin/profile/profile-student/study']"><mat-icon> add_circle</mat-icon>Nueva Formación</a></button>
      </mat-card-actions>
    </mat-card>
  </div>

  <!--///////////////////-->
<!--
  <h2>Formaci&oacute;n acad&eacute;mica</h2>
  <section id="formacion_academica">
    <table class="table table-bordered table-striped">
      <thead class="thead-light">
        <th>Tipo</th>
        <th>Nivel</th>
        <th>T&iacute;tulo</th>
        <th>Centro</th>
        <th>Fecha</th>
        <th>Certificado</th>
        <th>Bilingüe</th>
        <th>Dual</th>
        <th>Acciones</th>
      </thead>
      <tbody>
        <tr *ngFor="let study of user.studies; let i = index">
          <td>{{ study.level.name }}</td>
          <td>{{ study.grade?.name }}</td>

          <td>{{ study.title.name || study.title }}</td>
          <td>{{ study.institution.name || study.institution }}</td>
          <td>{{ study.date }}</td>
          <td>{{ study.certificate ? 'Sí' : 'No' }}</td>
          <td>{{ study.bilingue ? 'Sí' : 'No' }}</td>
          <td>{{ study.dual ? 'Sí' : 'No' }}</td>

          <td>
            <a
              [routerLink]="['/admin/profile/profile-student/study', study.uid]"
              >Editar</a
            >
            |
            <a style="cursor:pointer" (click)="deleteStudy(study.uid)"
              >Borrar</a
            >
          </td>
        </tr>
      </tbody>
    </table>
    <a [routerLink]="['/admin/profile/profile-student/study']"
      >Nueva formación</a
    >
  </section>

  -->

  <section style="clear:both;padding-bottom:2em;"></section>

<div fxLayoutAlign="space-around stretch" fxLayoutWrap >
  <mat-card>
  <mat-card-header>
    <mat-card-title class="title_card">Experiencia laboral</mat-card-title>
  </mat-card-header>
  
  <mat-card-content>
    <table mat-table [dataSource]="user.experiencies" class="mat-elevation-z8">

      <ng-container matColumnDef="empresa" >
        <th mat-header-cell *matHeaderCellDef class="columnSeparation"> Empresa </th>
        <td mat-cell *matCellDef="let element" class="columnSeparation"> {{element.empresa}} </td>
      </ng-container>

      <ng-container matColumnDef="date_incio" >
        <th mat-header-cell *matHeaderCellDef class="columnSeparation"> Fecha de Inicio </th>
        <td mat-cell *matCellDef="let element" class="columnSeparation">  {{element.date_incio | date:'d/M/yyyy'}} </td>
      </ng-container>

      <ng-container matColumnDef="date_fin">
        <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Fecha Fin </th>
        <td mat-cell *matCellDef="let element"  class="columnSeparation"> {{element.date_fin | date:'d/M/yyyy'}} </td>
      </ng-container>

      <ng-container matColumnDef="puesto">
        <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Puesto </th>
        <td mat-cell *matCellDef="let element"  class="columnSeparation"> {{element.puesto}} </td>
      </ng-container>

      <ng-container matColumnDef="tareas">
        <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Tareas </th>
        <td mat-cell *matCellDef="let element"  class="columnSeparation"> {{element.tareas}} </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Acciones </th>
        <td mat-cell *matCellDef="let element" class="columnSeparation"> 
          <button mat-mini-fab color="accent" class="buttonseparacion"><a [routerLink]="['/admin/profile/profile-student/work-experiencie',element.uid]"><mat-icon> create</mat-icon></a></button>
          <button mat-mini-fab color="warn" class="buttonseparacion"><a style="cursor:pointer" (click)="deleteExperiencie(element.uid)"><mat-icon> delete_sweep</mat-icon></a></button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef=" displayedColumnsExperience"></tr>
      <tr mat-row *matRowDef="let row; columns:  displayedColumnsExperience;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </mat-card-content>
  <mat-card-actions class="cont">
    <button mat-raised-button color="primary" class="button"><a [routerLink]="['/admin/profile/profile-student/work-experiencie']"><mat-icon> add_circle</mat-icon>Nueva experiencia laboral</a></button>
    </mat-card-actions>
  </mat-card>
</div>

<!--////////////////-->
<!--
  <h2>Experiencia laboral</h2>
  <section id="experiencies">
    <table class="table table-bordered table-striped">
      <thead class="thead-light">
        <th>Empresa</th>
        <th>Fecha Inicio</th>
        <th>Fecha Fin</th>
        <th>Puesto</th>
        <th>Tareas</th>
        <th>Acciones</th>
      </thead>
      <tbody>
        <tr *ngFor="let experiencie of user.experiencies">
          <td>{{ experiencie.empresa }}</td>
          <td>{{ experiencie.date_incio }}</td>
          <td>{{ experiencie.date_fin }}</td>
          <td>{{ experiencie.puesto }}</td>
          <td>{{ experiencie.tareas }}</td>
          <td>
            <a
              [routerLink]="[
                '/admin/profile/profile-student/work-experiencie',
                experiencie.uid
              ]"
              >Editar</a
            >
            |
            <a style="cursor:pointer" (click)="deleteExperiencie(experiencie.uid)"
              >Borrar</a
            >
          </td>
        </tr>
      </tbody>
    </table>
    <a [routerLink]="['/admin/profile/profile-student/work-experiencie']"
      >Nuevo idioma</a
    >
  </section>
-->

<section style="clear:both;padding-bottom:2em;"></section>

<div fxLayoutAlign="space-around stretch" fxLayoutWrap >
  <mat-card>
  <mat-card-header>
    <mat-card-title class="title_card">Idiomas</mat-card-title>
  </mat-card-header>
  
  <mat-card-content>
    <table mat-table [dataSource]="user.languages" class="mat-elevation-z8">

      <ng-container matColumnDef="level" >
        <th mat-header-cell *matHeaderCellDef class="columnSeparation"> Nivel </th>
        <td mat-cell *matCellDef="let element" class="columnSeparation"> {{element.level.name}} </td>
      </ng-container>

      <ng-container matColumnDef="language" >
        <th mat-header-cell *matHeaderCellDef class="columnSeparation"> Idioma </th>
        <td mat-cell *matCellDef="let element" class="columnSeparation">  {{element.name.name}} </td>
      </ng-container>

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Fecha </th>
        <td mat-cell *matCellDef="let element"  class="columnSeparation"> {{element.date | date:'d/M/yyyy'}} </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef  class="columnSeparation"> Acciones </th>
        <td mat-cell *matCellDef="let element" class="columnSeparation"> 
          <button mat-mini-fab color="accent" class="buttonseparacion"><a [routerLink]="['/admin/profile/profile-student/language',element.uid]"><mat-icon> create</mat-icon></a></button>
          <button mat-mini-fab color="warn" class="buttonseparacion"><a style="cursor:pointer" (click)="deleteLanguage(element.uid)"><mat-icon> delete_sweep</mat-icon></a></button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef=" displayedColumnsLanguage"></tr>
      <tr mat-row *matRowDef="let row; columns:  displayedColumnsLanguage;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </mat-card-content>
  <mat-card-actions class="cont">
    <button mat-raised-button color="primary" class="button"><a [routerLink]="['/admin/profile/profile-student/language']"><mat-icon> add_circle</mat-icon>Nuevo Idioma</a></button>
    </mat-card-actions>
  </mat-card>
</div>

<!--

  <h2>Idiomas</h2>
  <section id="languages">
    <table class="table table-bordered table-striped">
      <thead class="thead-light">
        <th>Nivel</th>
        <th>Idioma</th>
        <th>Fecha</th>
        <th>Acciones</th>
      </thead>
      <tbody>
        <tr *ngFor="let language of user.languages">
          <td>{{ language.level.name }}</td>
          <td>{{ language.name.name }}</td>
          <td>{{ language.date }}</td>
          <td>
            <a
              [routerLink]="[
                '/admin/profile/profile-student/language',
                language.uid
              ]"
              >Editar</a
            >
            |
            <a style="cursor:pointer" (click)="deleteLanguage(language.uid)"
              >Borrar</a
            >
          </td>
        </tr>
      </tbody>
    </table>
    <a [routerLink]="['/admin/profile/profile-student/language']"
      >Nuevo idioma</a
    >
  </section>
</div>

-->